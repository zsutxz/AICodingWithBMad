# BMAD-METHOD™ 架构中文详解

## 引言：解决 AI 开发的核心痛点

BMAD-METHOD™ 是一个为 AI 协同工作设计的敏捷开发框架。它的核心目标是解决当前 AI 辅助开发中最普遍的两个问题：

1.  **规划不一致性 (Planning Inconsistency)**: 通用大语言模型（LLM）在没有明确指导的情况下，生成的任务和需求往往缺乏一致性和深度，导致后续开发混乱。
2.  **上下文丢失 (Context Loss)**: 在复杂的开发流程中，关键的业务逻辑、架构决策和用户需求，在从规划阶段传递到开发阶段时，信息会大量丢失。开发代理（Dev Agent）常常不清楚“为什么”要这么做，只能盲目执行。

BMAD-METHOD™ 通过其独特的**两阶段工作流**和**专业化的 AI 代理团队**，系统性地解决了这些问题。

---

## 核心理念：两大创新

### 第一阶段：智能体协同规划 (Agentic Collaborative Planning)

这是项目的“大脑”和“蓝图”构建阶段。您将与一个专门的规划团队协作，确保项目方向的正确性和规划的完整性。

-   **核心目标**: 创建出详尽、一致且专业的产品需求文档（PRD）和软件架构文档（Architecture Document）。
-   **参与角色**:
    -   **产品负责人 (Product Owner) / 分析师 (Analyst)**: 负责与您沟通，深入挖掘需求，明确项目目标，并产出项目简介（Project Brief）。
    -   **产品经理 (Product Manager)**: 基于简介，创建详细的产品需求文档（PRD），定义功能、用户故事和验收标准。
    -   **架构师 (Architect)**: 根据 PRD 设计技术方案，选择合适的技术栈，并输出详细的架构文档，作为后续开发的“北极星”。
-   **工作方式**:
    -   **对话式协作**: 您通过与这些代理对话来推进工作。
    -   **人在环路 (Human-in-the-loop)**: 您的反馈和决策是流程的关键部分，确保最终产出符合您的真实意图。
-   **最终产出**: 一套高质量、无歧义的规划文档，为开发阶段奠定坚实基础。

### 第二阶段：上下文驱动的开发 (Context-Engineered Development)

这是将“蓝图”转化为实际代码的执行阶段。其核心是确保开发人员（无论是人类还是 AI）都能获得“完美”的上下文。

-   **核心目标**: 消除从规划到开发的信息壁垒，让开发代理在执行任务时拥有完整的背景知识。
-   **关键角色**:
    -   **敏捷教练 (Scrum Master)**: 扮演着项目“中枢神经”的角色。它负责将 PRD 和架构文档分解成一个个可执行的、**超详细的开发故事（Hyper-detailed Story）**。
-   **工作方式**:
    -   **“故事”文件作为信息载体**: 每个“故事”不仅仅是一个任务描述，它是一个包含了所有必需信息的独立文件。内容包括：
        -   相关的用户故事和业务背景。
        -   详细的实现步骤和技术指南。
        -   架构文档中的相关片段和约束。
        -   代码片段示例或伪代码。
-   **最终效果**: 开发代理（Dev Agent）在接到一个“故事”文件时，就如同拿到了一份完整的“施工图纸”和“操作手册”，能够立即理解任务的全貌，从而编写出高质量、符合架构要求的代码。

---

## 核心工作流程详解

### 1. 规划阶段 (通常在 Web UI 中完成)

-   **启动**: 您可以输入 `*help` 查看所有可用命令，或直接使用 `*analyst` 开始定义您的项目想法。
-   **创建简介**: 与 Analyst 代理对话，明确您的核心需求，最终生成一份**项目简介 (Project Brief)**。
-   **创建 PRD**: Product Manager 代理接手简介，通过与您进一步的讨论，将其扩展为一份完整的 **PRD**。
-   **设计架构**: Architect 代理依据 PRD，为您量身定制技术架构，并生成**架构文档**。

### 2. 开发周期 (在 IDE 中完成)

-   **切换环境**: 当规划文档准备就绪后，您需要将这些文档（PRD、架构等）保存到您的代码仓库中，并将工作环境切换到 IDE。
-   **文档分片 (Shard Docs)**: 运行 `shard-doc` 任务，将长篇的规划文档切分成更小的、易于处理的知识片段。这是为了让 AI 代理能更精确地检索信息。
-   **创建第一个故事**: Scrum Master 代理执行 `create-next-story` 任务，它会阅读所有文档片段，并创建出第一个包含了完整上下文的开发故事文件。
-   **开发实现**: Dev 代理打开这个故事文件，根据其中的详细指引开始编写代码。
-   **质量保证**: QA 代理审查 Dev 代理提交的代码，如果发现问题，它会直接在同一个故事文件中添加修复建议或 Bug 报告。Dev 代理可以根据这些反馈进行修改。
-   **迭代循环**: 一旦一个故事完成，Scrum Master 会继续创建下一个故事，开发流程如此循环，直到项目完成。

---

## 扩展性：超越软件开发的“扩展包”

BMAD-METHOD™ 的强大之处在于其框架的通用性。通过**扩展包 (Expansion Packs)**，您可以将此方法论应用于任何领域：

-   **什么是扩展包?**: 一个扩展包是针对特定领域定制的一套全新的 AI 代理、任务、模板和工作流。
-   **示例**:
    -   `bmad-creative-writing`: 包含“作家”、“编辑”、“评论家”等代理，用于辅助小说或剧本创作。
    -   `bmad-godot-game-dev`: 专为 Godot 游戏引擎开发设计的代理团队和工作流。
    -   `bmad-infrastructure-devops`: 用于规划和管理基础设施（如 K8s、Terraform）的 DevOps 专家代理。

您可以自由创建或使用社区分享的扩展包，让 BMAD-METHOD™ 成为您在任何领域的 AI 专家团队。